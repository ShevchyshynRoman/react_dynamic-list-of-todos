(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c,r=n(9),s=n.n(r),o=n(2),a=n(1),i=(n(15),n(16),n(10)),u=n(7),l=n.n(u),d=(n(17),n(0));!function(e){e.All="all",e.Completed="completed",e.Active="active"}(c||(c={}));var j=function(e){var t=e.todos,n=e.onSelectUserId,r=e.selectedUserId,s=Object(a.useState)(""),u=Object(o.a)(s,2),j=u[0],b=u[1],p=Object(a.useState)(""),h=Object(o.a)(p,2),f=h[0],O=h[1],m=Object(a.useState)(!1),v=Object(o.a)(m,2),x=v[0],_=v[1],y=function(){var e=t.filter((function(e){return e.title.toLowerCase().includes(j.toLowerCase())}));return f===c.Completed?e.filter((function(e){return e.completed})):f===c.Active?e.filter((function(e){return!e.completed})):e},N=x?function(e){for(var t=Object(i.a)(e),n=t.length-1;n>0;n-=1){var c=Math.floor(Math.random()*(n+1)),r=[t[c],t[n]];t[n]=r[0],t[c]=r[1]}return t}(y()):y();return Object(d.jsxs)("div",{className:"TodoList",children:[Object(d.jsx)("h2",{children:"Todos:"}),Object(d.jsxs)("div",{className:"TodoList__list-container",children:[Object(d.jsxs)("label",{children:["Filter by title:"," ",Object(d.jsx)("input",{"data-cy":"filterByTitle",type:"text",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(d.jsxs)("select",{className:"TodoList__select",onChange:function(e){O(e.target.value)},children:[Object(d.jsx)("option",{value:c.All,children:"All"}),Object(d.jsx)("option",{value:c.Active,children:"Active"}),Object(d.jsx)("option",{value:c.Completed,children:"Completed"})]}),Object(d.jsx)("button",{className:"button button--randomize",type:"button",onClick:function(){return _((function(e){return!e}))},children:"Randomize"}),Object(d.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:N.map((function(e){return Object(d.jsxs)("li",{className:l()("TodoList__item",{"TodoList__item--checked":e.completed},{"TodoList__item--unchecked":!e.completed}),children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox",checked:!0,readOnly:!0}),Object(d.jsx)("p",{children:e.title})]}),e.userId&&Object(d.jsx)("button",{"data-cy":"userButton",className:l()("TodoList__user-button button",{"TodoList__user-button--selected":e.userId===r}),type:"button",onClick:function(){return n(e.userId)},children:"User ".concat(e.userId)})]},e.id)}))})]})]})},b=(n(19),n(8)),p=n(4),h=n.n(p),f="https://mate.academy/students-api";function O(){return(O=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.userId,n=e.clearUser,c=Object(a.useState)(null),r=Object(o.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){(function(e){return m.apply(this,arguments)})(t).then((function(e){return i(e)}))}),[t]),Object(d.jsxs)("div",{className:"CurrentUser",children:[Object(d.jsx)("h2",{className:"CurrentUser__title",children:Object(d.jsxs)("span",{children:["Selected user:"," ",null===s||void 0===s?void 0:s.id]})}),Object(d.jsx)("h3",{"data-cy":"userName",className:"CurrentUser__name",children:null===s||void 0===s?void 0:s.name}),Object(d.jsx)("p",{className:"CurrentUser__email",children:null===s||void 0===s?void 0:s.email}),Object(d.jsx)("p",{className:"CurrentUser__phone",children:null===s||void 0===s?void 0:s.phone}),Object(d.jsx)("button",{type:"button",className:"button CurrentUser__clear",onClick:function(){return n(0)},children:"Clear User"})]})},x=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){return u(e)}))}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"App__sidebar",children:i?Object(d.jsx)(j,{todos:i,selectedUserId:n,onSelectUserId:c}):Object(d.jsx)("p",{children:"Loading..."})}),Object(d.jsx)("div",{className:"App__content",children:Object(d.jsx)("div",{className:"App__content-container",children:n?Object(d.jsx)(v,{userId:n,clearUser:c}):"No user selected"})})]})};s.a.render(Object(d.jsx)(x,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b317ff4b.chunk.js.map