{"version":3,"sources":["components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["Status","TodoList","todos","onSelectUserId","selectedUserId","useState","query","setQuery","todosStatus","setTodosStatus","isRandomized","setIsRandomized","preparingTodos","filteredByTitle","filter","todo","title","toLowerCase","includes","Completed","completed","Active","visibleTodos","arr","arrToShuffle","i","length","j","Math","floor","random","randomize","className","type","value","onChange","event","target","All","onClick","prev","map","classNames","checked","readOnly","userId","id","BASE_URL","a","fetch","response","json","CurrentUser","clearUser","user","setUser","useEffect","getUser","then","data","name","email","phone","App","setSelectedUserId","setTodos","getTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b317ff4b.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[],\n  onSelectUserId: (userId: number) => void,\n  selectedUserId: number,\n};\n\nenum Status {\n  All = 'all',\n  Completed = 'completed',\n  Active = 'active',\n}\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  onSelectUserId,\n  selectedUserId,\n}) => {\n  const [query, setQuery] = useState('');\n  const [todosStatus, setTodosStatus] = useState('');\n  const [isRandomized, setIsRandomized] = useState(false);\n\n  const filterByTitle = () => {\n    return todos.filter(todo => (\n      todo.title.toLowerCase().includes(query.toLowerCase())\n    ));\n  };\n\n  const preparingTodos = () => {\n    const filteredByTitle = filterByTitle();\n\n    if (todosStatus === Status.Completed) {\n      return filteredByTitle.filter(todo => todo.completed);\n    }\n\n    if (todosStatus === Status.Active) {\n      return filteredByTitle.filter(todo => !todo.completed);\n    }\n\n    return filteredByTitle;\n  };\n\n  const randomize = (arr: Todo[]) => {\n    const arrToShuffle = [...arr];\n\n    for (let i = arrToShuffle.length - 1; i > 0; i -= 1) {\n      const j = Math.floor(Math.random() * (i + 1));\n\n      [arrToShuffle[i], arrToShuffle[j]] = [arrToShuffle[j], arrToShuffle[i]];\n    }\n\n    return arrToShuffle;\n  };\n\n  const visibleTodos = isRandomized\n    ? randomize(preparingTodos())\n    : preparingTodos();\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__list-container\">\n\n        <label>\n          Filter by title:\n          {' '}\n          <input\n            data-cy=\"filterByTitle\"\n            type=\"text\"\n            value={query}\n            onChange={(event => setQuery(event.target.value))}\n          />\n        </label>\n\n        <select\n          className=\"TodoList__select\"\n          onChange={(event) => {\n            setTodosStatus(event.target.value);\n          }}\n        >\n          <option value={Status.All}>\n            All\n          </option>\n          <option value={Status.Active}>\n            Active\n          </option>\n          <option value={Status.Completed}>\n            Completed\n          </option>\n        </select>\n\n        <button\n          className=\"button button--randomize\"\n          type=\"button\"\n          onClick={() => setIsRandomized(prev => !prev)}\n        >\n          Randomize\n        </button>\n\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {visibleTodos.map(todo => (\n            <li\n              key={todo.id}\n              className={classNames(\n                'TodoList__item',\n                { 'TodoList__item--checked': todo.completed },\n                { 'TodoList__item--unchecked': !todo.completed },\n              )}\n            >\n              <label>\n                <input type=\"checkbox\" checked readOnly />\n                <p>{todo.title}</p>\n              </label>\n\n              {todo.userId && (\n                <button\n                  data-cy=\"userButton\"\n                  className={classNames('TodoList__user-button button', {\n                    'TodoList__user-button--selected':\n                      todo.userId === selectedUserId,\n                  })}\n                  type=\"button\"\n                  onClick={() => onSelectUserId(todo.userId)}\n                >\n                  {`User ${todo.userId}`}\n                </button>\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","const BASE_URL = 'https://mate.academy/students-api';\n\nexport async function getTodos(): Promise<Todo[]> {\n  const response = await fetch(`${BASE_URL}/todos`);\n\n  return response.json();\n}\n\nexport async function getUser(userId: number): Promise<User> {\n  const response = await fetch(`${BASE_URL}/users/${userId}`);\n\n  return response.json();\n}\n","import React, { useEffect, useState } from 'react';\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/api';\n\ntype Props = {\n  userId: number,\n  clearUser: (userId: number) => void,\n};\n\nexport const CurrentUser: React.FC<Props> = ({\n  userId,\n  clearUser,\n}) => {\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    getUser(userId)\n      .then(data => setUser(data));\n  }, [userId]);\n\n  return (\n    <div className=\"CurrentUser\">\n      <h2 className=\"CurrentUser__title\">\n        <span>\n          Selected user:\n          {' '}\n          {user?.id}\n        </span>\n      </h2>\n\n      <h3\n        data-cy=\"userName\"\n        className=\"CurrentUser__name\"\n      >\n        {user?.name}\n      </h3>\n\n      <p className=\"CurrentUser__email\">\n        {user?.email}\n      </p>\n\n      <p className=\"CurrentUser__phone\">\n        {user?.phone}\n      </p>\n\n      <button\n        type=\"button\"\n        className=\"button CurrentUser__clear\"\n        onClick={() => clearUser(0)}\n      >\n        Clear User\n      </button>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api/api';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  useEffect(() => {\n    getTodos()\n      .then(data => setTodos(data));\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        {todos ? (\n          <TodoList\n            todos={todos}\n            selectedUserId={selectedUserId}\n            onSelectUserId={setSelectedUserId}\n          />\n        ) : (\n          <p>Loading...</p>\n        )}\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              clearUser={setSelectedUserId}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}